{"version":3,"sources":["admin.js"],"names":["jQuery","$","sortableOptions","cursor","handle","helper","items","opacity","placeholder","revert","tolerance","toleranceElement","nestedSortableOptions","extend","update","event","ui","$parent","item","parents","first","parent_id","length","find","val","children","sortable","nestedSortable"],"mappings":"yBACAA,QAAQ,SAAUC,GAEjB,IAAIC,EAAkB,CACrBC,OAAmB,OACnBC,OAAmB,2BACnBC,OAAmB,QACnBC,MAAmB,KACnBC,QAAmB,GACnBC,YAAmB,2BACnBC,QAAmB,EACnBC,UAAmB,UACnBC,iBAAmB,8BAKhBC,EAAwBX,EAAEY,OAAQ,GAAIX,EAAiB,CAC1DY,OAAQ,SAAUC,EAAOC,GACxB,IAAIC,EAAUD,EAAGE,KAAKC,QAAS,sBAAuBC,QAElDC,EAAY,EACXJ,EAAQK,OAAS,IACrBD,EAAYJ,EAAQM,KAAM,yBAA0BC,OAGrDR,EAAGE,KAAKK,KAAM,+BAAgCC,IAAKH,MAMrDpB,EAAG,2CACDwB,SAAU,uBACVC,SAAUxB,GAIZD,EAAG,qCACDwB,SAAU,uBACVE,eAAgBf","sourcesContent":["/* globals jQuery */\njQuery( function( $ ) {\n\t// Create the sortable options\n\tvar sortableOptions = {\n\t\tcursor           : 'move',\n\t\thandle           : '.ordermanager-item-label',\n\t\thelper           : 'clone',\n\t\titems            : 'li',\n\t\topacity          : 0.6,\n\t\tplaceholder      : 'ordermanager-placeholder',\n\t\trevert           : true,\n\t\ttolerance        : 'pointer',\n\t\ttoleranceElement : '> .ordermanager-item-label',\n\t};\n\n\t// Create the nestedSortable options\n\t// a copy of the sortable options + an update event for the parent value\n\tvar nestedSortableOptions = $.extend( {}, sortableOptions, {\n\t\tupdate: function( event, ui ) {\n\t\t\tvar $parent = ui.item.parents( '.ordermanager-item' ).first();\n\n\t\t\tlet parent_id = 0;\n\t\t\tif ( $parent.length > 0 ) {\n\t\t\t\tparent_id = $parent.find( '.ordermanager-item-id' ).val();\n\t\t\t}\n\n\t\t\tui.item.find( '> .ordermanager-item-parent' ).val( parent_id );\n\t\t},\n\t} );\n\n\t// Apply the sortable options\n\t// to order managers NOT using the is-nested class\n\t$( '.ordermanager-interface:not(.is-nested)' )\n\t\t.children( '.ordermanager-items' )\n\t\t.sortable( sortableOptions );\n\n\t// Apply the nestedSotrable options\n\t// ONLY to order managers using the is-nested class\n\t$( '.ordermanager-interface.is-nested' )\n\t\t.children( '.ordermanager-items' )\n\t\t.nestedSortable( nestedSortableOptions );\n} );\n"]}